{"version":3,"file":"static/js/242.4a6c6264.chunk.js","mappings":"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","sources":["shared/components/Modal.js","shared/pages/Registration.js","shared/hooks/http-hook.js"],"sourcesContent":["import React from 'react';\n\nconst Modal = (props) => {\n    return (\n        <div className=\"center\">\n            {props.children}\n        </div>\n    )\n}\n\nexport default Modal;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\nimport Modal from \"../components/Modal\";\nimport { useHttpClient } from \"../hooks/http-hook\";\nimport { loadCaptchaEnginge, LoadCanvasTemplate, LoadCanvasTemplateNoReload, validateCaptcha } from 'react-simple-captcha';\n\nconst Registration = () => {\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\n\n    const [errorMessage, setErrorMessage] = useState();\n    const [successMessage, setSuccessMessage] = useState();\n\n    const navigate = useNavigate();\n\n    const refName = useRef('');\n    const refEmail = useRef();\n    const refPhone = useRef();\n    const refPassword = useRef();\n    const refConfirmPassword = useRef();\n    const refCaptcha = useRef();\n\n    useEffect(() => {\n        setTimeout(() => {\n            setSuccessMessage();\n            setErrorMessage();\n            clearError();\n        }, 10000);\n    });\n\n    useEffect(() => {\n        loadCaptchaEnginge(6);\n    }, []);\n\n    const clearForm = () => {\n        refName.current.value = '';\n        refEmail.current.value = '';\n        refPhone.current.value = '';\n        refPassword.current.value = '';\n        refConfirmPassword.current.value = '';\n        refCaptcha.current.value = '';\n    }\n\n    const success = () => {\n        setSuccessMessage('User registered successfully!');\n        clearForm();\n    }\n\n    const handleRegistration = async event => {\n        event.preventDefault();\n\n        let name = refName.current.value;\n        let email = refEmail.current.value;\n        let phone = refPhone.current.value;\n        let password = refPassword.current.value;\n        let confirmPassword = refConfirmPassword.current.value;\n        let captcha = refCaptcha.current.value;\n\n        if (password !== confirmPassword) {\n            setErrorMessage('Password and Confirm Password should be match!');\n            return false;\n        }\n\n        if (validateCaptcha(captcha) == false) {\n            setErrorMessage('Captcha does not match!');\n            return false;\n        }\n\n        try {\n            const dataResponse = await sendRequest(\n                `${process.env.REACT_APP_BACKEND_URL}/api/user/registration`,\n                'POST',\n                JSON.stringify(\n                    {\n                        name: name,\n                        email: email,\n                        phone: phone,\n                        password: password\n                    }\n                ),\n                {\n                    'Content-Type': 'application/json'\n                }\n            );\n            // auth.login(dataResponse.userId, dataResponse.token);\n            // navigate(\"/login\");\n            success();\n        } catch (err) { }\n    }\n\n    return (\n        <Modal>\n            <Container fluid=\"sm\">\n                <Row className=\"justify-content-md-center\">\n                    <Col xs lg=\"6\">\n                        <h2>Registration Form:</h2>\n                        {errorMessage && <div className=\"alert alert-danger\" role=\"alert\">\n                            {errorMessage}\n                        </div>}\n\n                        {error && <div className=\"alert alert-danger\" role=\"alert\">\n                            {error}\n                        </div>}\n\n                        {successMessage && <div className=\"alert alert-success\" role=\"alert\">\n                            {successMessage}\n                        </div>}\n\n                        <Form onSubmit={handleRegistration}>\n                            <Form.Group className=\"mb-3\">\n\n                                <Form.Label htmlFor=\"name\">Name</Form.Label>\n                                <Form.Control ref={refName} id=\"name\" type=\"text\" placeholder=\"Name\" required />\n\n                                <Form.Label htmlFor=\"email\">Email</Form.Label>\n                                <Form.Control ref={refEmail} type=\"email\" placeholder=\"Email\" required />\n\n                                <Form.Label htmlFor=\"phone\">Phone Number</Form.Label>\n                                <Form.Control ref={refPhone} type=\"text\" placeholder=\"Phone Number\" required />\n\n                                <Form.Label htmlFor=\"password\">Password</Form.Label>\n                                <Form.Control minLength=\"5\" ref={refPassword} type=\"password\" placeholder=\"Password\" required />\n\n                                <Form.Label htmlFor=\"cpassword\">Confirm Password</Form.Label>\n                                <Form.Control ref={refConfirmPassword} id=\"cpassword\" type=\"password\" placeholder=\"Confirm Password\" required />\n\n                                <br />\n                                <div>\n                                    <LoadCanvasTemplate />\n                                    <Form.Control ref={refCaptcha} id=\"captcha\" placeholder=\"Captcha\" required />\n                                </div>\n                                <Button type=\"submit\" className=\"btn-margin-top\" variant=\"primary\">\n                                    Register\n                                </Button>\n                            </Form.Group>\n                        </Form>\n                    </Col>\n                </Row>\n            </Container>\n        </Modal >\n    )\n}\n\nexport default Registration;","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nexport const useHttpClient = () => {\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState();\n\n    const activeHttpRequests = useRef([]);\n\n    const sendRequest = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\n        setIsLoading(true);\n\n        const httpAbortCtrl = new AbortController();\n        activeHttpRequests.current.push(httpAbortCtrl);\n\n        try {\n            const response = await fetch(\n                url,\n                {\n                    method,\n                    body,\n                    headers,\n                    signal: httpAbortCtrl.signal\n                }\n            );\n\n            const responseData = await response.json();\n\n            activeHttpRequests.current = activeHttpRequests.current.filter(\n                reqCtrl => reqCtrl !== httpAbortCtrl\n            );\n\n            if (!response.ok) {\n                throw new Error(responseData.message);\n            }\n\n            setIsLoading(false);\n            return responseData;\n        } catch (err) {\n            setError(err.message);\n            setIsLoading(false);\n            throw err;\n        }\n    }, []);\n\n    const clearError = () => {\n        setError(null);\n    };\n\n    useEffect(() => {\n        return () => {\n            activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\n        };\n    }, []);\n\n    return { isLoading, error, sendRequest, clearError };\n};\n"],"names":["props","className","children","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","useHttpClient","errorMessage","setErrorMessage","successMessage","setSuccessMessage","refName","useNavigate","refEmail","refPhone","refPassword","refConfirmPassword","refCaptcha","setTimeout","loadCaptchaEnginge","success","value","handleRegistration","event","preventDefault","name","email","phone","password","confirmPassword","captcha","validateCaptcha","process","REACT_APP_BACKEND_URL","JSON","stringify","Modal","Container","fluid","Row","Col","xs","lg","role","Form","onSubmit","htmlFor","ref","id","type","placeholder","required","minLength","Button","variant"],"sourceRoot":""}