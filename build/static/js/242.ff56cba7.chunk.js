(self.webpackChunkmy_blog_frontend=self.webpackChunkmy_blog_frontend||[]).push([[242],{6017:function(e,r,n){"use strict";n(2791);var t=n(184);r.Z=function(e){return(0,t.jsx)("div",{className:"center",children:e.children})}},985:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return x}});var t=n(5861),s=n(9439),a=n(7757),u=n.n(a),c=n(2791),o=n(6871),l=n(7022),i=n(9743),d=n(2677),f=n(5630),h=n(3360),p=n(6017),m=n(2071),v=n(184),x=function(){var e=function(){var e=(0,c.useState)(!1),r=(0,s.Z)(e,2),n=r[0],a=r[1],o=(0,c.useState)(),l=(0,s.Z)(o,2),i=l[0],d=l[1],f=(0,c.useRef)([]),h=(0,c.useCallback)(function(){var e=(0,t.Z)(u().mark((function e(r){var n,t,s,c,o,l,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",t=i.length>2&&void 0!==i[2]?i[2]:null,s=i.length>3&&void 0!==i[3]?i[3]:{},a(!0),c=new AbortController,f.current.push(c),e.prev=6,e.next=9,fetch(r,{method:n,body:t,headers:s,signal:c.signal});case 9:return o=e.sent,e.next=12,o.json();case 12:if(l=e.sent,f.current=f.current.filter((function(e){return e!==c})),o.ok){e.next=16;break}throw new Error(l.message);case 16:return a(!1),e.abrupt("return",l);case 20:throw e.prev=20,e.t0=e.catch(6),d(e.t0.message),a(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(r){return e.apply(this,arguments)}}(),[]);return(0,c.useEffect)((function(){return function(){f.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:i,sendRequest:h,clearError:function(){d(null)}}}(),r=(e.isLoading,e.error),n=e.sendRequest,a=e.clearError,x=(0,c.useState)(),j=(0,s.Z)(x,2),b=j[0],Z=j[1],g=(0,c.useState)(),w=(0,s.Z)(g,2),C=w[0],E=w[1],R=((0,o.s0)(),(0,c.useRef)("")),y=(0,c.useRef)(),S=(0,c.useRef)(),_=(0,c.useRef)(),N=(0,c.useRef)(),P=(0,c.useRef)();(0,c.useEffect)((function(){setTimeout((function(){E(),Z(),a()}),1e4)})),(0,c.useEffect)((function(){(0,m.ue)(6)}),[]);var k=function(){E("User registered successfully!"),R.current.value="",y.current.value="",S.current.value="",_.current.value="",N.current.value="",P.current.value=""},T=function(){var e=(0,t.Z)(u().mark((function e(r){var t,s,a,c,o,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t=R.current.value,s=y.current.value,a=S.current.value,c=_.current.value,o=N.current.value,l=P.current.value,c===o){e.next=10;break}return Z("Password and Confirm Password should be match!"),e.abrupt("return",!1);case 10:if(0!=(0,m.ig)(l)){e.next=13;break}return Z("Captcha does not match!"),e.abrupt("return",!1);case 13:return e.prev=13,e.next=16,n("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/api/user/registration"),"POST",JSON.stringify({name:t,email:s,phone:a,password:c}),{"Content-Type":"application/json"});case 16:e.sent,k(),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(13);case 22:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(r){return e.apply(this,arguments)}}();return(0,v.jsx)(p.Z,{children:(0,v.jsx)(l.Z,{fluid:"sm",children:(0,v.jsx)(i.Z,{className:"justify-content-md-center",children:(0,v.jsxs)(d.Z,{xs:!0,lg:"6",children:[(0,v.jsx)("h2",{children:"Registration Form:"}),b&&(0,v.jsx)("div",{className:"alert alert-danger",role:"alert",children:b}),r&&(0,v.jsx)("div",{className:"alert alert-danger",role:"alert",children:r}),C&&(0,v.jsx)("div",{className:"alert alert-success",role:"alert",children:C}),(0,v.jsx)(f.Z,{onSubmit:T,children:(0,v.jsxs)(f.Z.Group,{className:"mb-3",children:[(0,v.jsx)(f.Z.Label,{htmlFor:"name",children:"Name"}),(0,v.jsx)(f.Z.Control,{ref:R,id:"name",type:"text",placeholder:"Name",required:!0}),(0,v.jsx)(f.Z.Label,{htmlFor:"email",children:"Email"}),(0,v.jsx)(f.Z.Control,{ref:y,type:"email",placeholder:"Email",required:!0}),(0,v.jsx)(f.Z.Label,{htmlFor:"phone",children:"Phone Number"}),(0,v.jsx)(f.Z.Control,{ref:S,type:"text",placeholder:"Phone Number",required:!0}),(0,v.jsx)(f.Z.Label,{htmlFor:"password",children:"Password"}),(0,v.jsx)(f.Z.Control,{minLength:"5",ref:_,type:"password",placeholder:"Password",required:!0}),(0,v.jsx)(f.Z.Label,{htmlFor:"cpassword",children:"Confirm Password"}),(0,v.jsx)(f.Z.Control,{ref:N,id:"cpassword",type:"password",placeholder:"Confirm Password",required:!0}),(0,v.jsx)("br",{}),(0,v.jsxs)("div",{children:[(0,v.jsx)(m.DX,{}),(0,v.jsx)(f.Z.Control,{ref:P,id:"captcha",placeholder:"Captcha",required:!0})]}),(0,v.jsx)(h.Z,{type:"submit",className:"btn-margin-top",variant:"primary",children:"Register"})]})})]})})})})}},7303:function(){}}]);
//# sourceMappingURL=242.ff56cba7.chunk.js.map